
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Chat</title>

    <script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
    <script language="javascript" src="http://www.rdbhost.com/vendor/Modernizr/2.6/modernizr-2.6.2.min.js"></script>
    <script language="javascript" src="http://www.rdbhost.com/js/jquery.rdbhost.js"></script>
    <script language="javascript" src="http://www.rdbhost.com/js/jquery.rdbhost.utils.js"></script>
    <script language="javascript" src="http://www.rdbhost.com/js/json2.js"></script>
  </head>

  <script>
	var rdb = new SQLEngine('s0000001354', 'P5nMsUTIhCM90W7cdzkfEO7T5k6rNgRLd0SHx1TjmSF693LphS', 'www.rdbhost.com');

	function success(json) {
		console.log(json);
	}

	function createAccount() {
		console.log('create account');
		var username = document.getElementById('login_username').value;
		var password = document.getElementById('login_password').value;

		var res = rdb.query({
			'q': "INSERT INTO game.users (login, password) VALUES (%s, %s);",
			'args': [username, password],
			'argtypes': ['STRING', 'STRING'],
			'callback': function(a, b) {
				console.log('Success');
				console.log(a);
				console.log(b);
			},
			'errback': function(err) {
				console.log('Error');
				for (i = 0; i < err.length; i++)
					console.log(i + " => " + err[i]);
			}
		});
	}

	function login() {
		console.log('login');
		var username = document.getElementById('login_username').value;
		var password = document.getElementById('login_password').value;

		var res = rdb.query({
			'q': "SELECT login FROM game.users WHERE login = %s AND password = %s;",
			'args': [username, password],
			'argtypes': ['STRING', 'STRING'],
			'callback': function(a, b) {
				console.log('Success');
				console.log(a);
				console.log(b);
			},
			'errback': function(err) {
				console.log('Error');
				for (i = 0; i < err.length; i++)
					console.log(i + " => " + err[i]);
			}
		});
	}

  </script>

  <div id="login-div" style="text-align:center;width:100%;">
    <center>
      <table id="login-table">
        <tr>
	      <td>User Name:</td>
	      <td><input type="text" id="login_username" width="30"></td>
	    </tr>
        <tr>
	      <td>Password:</td>
	      <td><input type="password" id="login_password" width="30"></td>
	    </tr>
        <tr>
	      <td colspan="2" align="right">
	        <input type="submit" value="Create Account" onclick="createAccount();" />
	        <input type="submit" value="Login" onclick="login();" />
	      </td>
	    </tr>
      </table>
    </center>
  </div>

</html>

